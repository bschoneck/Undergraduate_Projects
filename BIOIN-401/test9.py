#test9.py

#metagenome = "ERR321426,ERR209383,ERR526022,ERR321280,ERR321249,ERR209641,ERR209133,ERR209243,ERR321407,ERR866584,ERR321101,ERR209751,ERR209636,ERR321250,ERR321415,ERR209647,ERR321367,ERR209303,ERR209358,SRR492183,ERR011114,ERR321310,ERR209232,ERR209575,ERR209082,SRR492065,ERR209794,ERR209396,ERR321427,ERR209242,ERR321540,ERR011126,ERR321406,ERR209530,ERR321412,ERR209085,ERR321358,ERR209602,ERR321251,ERR321067,ERR414350,ERR209244,ERR321366,ERR209585,ERR321414,ERR526025,ERR321084,SRR492182,ERR209227,ERR209610,ERR209206,ERR321089,ERR321106,ERR011131,ERR209369,ERR321141,ERR209125,SRR769534,ERR209077,ERR321338,ERR209676,ERR209222,ERR414270,ERR209236,ERR321515,ERR011109,ERR011092,ERR209203,ERR209109,ERR321392,ERR209753,ERR209099,ERR209785,ERR209779,ERR866580,ERR209094,ERR321460,ERR209230,ERR209760,ERR209349,ERR209417,ERR209147,ERR209153,ERR011166,ERR321428,ERR209216,ERR321351,SRR492194,ERR011117,ERR321092,SRR585752,ERR209501,ERR011335,ERR321326,ERR209210,ERR414505,ERR209557,ERR209822,ERR321307,ERR209155"

# Cloud test 1: 100
metagenome = "ERR414324,SRR1492910,ERR209242,ERR209610,ERR321291,ERR321502,ERR209077,ERR321255,ERR209685,ERR321259,SRR6038368,ERR209680,ERR321392,ERR321400,ERR209167,ERR209210,ERR209216,ERR414505,ERR526025,ERR209147,ERR209334,ERR209238,ERR209150,ERR209224,ERR209866,ERR209724,ERR1297656,ERR414508,ERR209203,ERR321064,ERR209181,ERR209418,ERR209085,ERR321254,ERR1293792,ERR321279,ERR209244,ERR209094,ERR321414,SRR769534,ERR209137,ERR321249,ERR866580,ERR209530,ERR209676,ERR209785,ERR209300,ERR321378,ERR209106,ERR209501,ERR209349,ERR321412,ERR321364,ERR866584,SRR585752,ERR321260,ERR011117,ERR414258,ERR209057,SRR609146,ERR321405,SRR6038404,ERR321419,ERR209144,ERR321301,SRR605618,ERR209151,ERR209140,ERR321288,ERR209121,SRR769526,ERR011131,SRR585727,ERR209647,ERR209060,ERR209448,SRR4305147,ERR209402,ERR209592,ERR321358,ERR414238,ERR866578,ERR321172,SRR4305495,ERR209557,ERR209333,ERR209463,SRR605579,ERR321456,ERR1297837,ERR321165,ERR1297652,ERR209113,ERR209184,ERR414270,ERR011252,ERR209218,ERR209180,SRR6028292,ERR321206"

metagenomes = metagenome.split(",")

UMGS = "ERR589512_bin.12,SRR341713_bin.18,SRR2155351_bin.3,ERR1297740_bin.24,SRR341590_bin.10,ERR1297644_bin.3,SRR1214724_bin.3,SRR5056929_bin.77,ERR1190829_bin.23,SRR5056786_bin.84,ERR525754_bin.18,SRR3737031_bin.16,ERR1293845_bin.21,SRR5558121_bin.15,ERR1912960_bin.3,SRR6028420_bin.13,ERR1297716_bin.14,SRR4481801_bin.34,SRR5127675_bin.13,SRR2992962_bin.4"
UMGS = UMGS.split(",")

fin = open("bwa_coverage.csv", "r")
fout = open("bwa_coverage_test.csv", "w")
lst2 = []
lst = []
for line in fin:
    line.strip('\n')
    temp = line.split(',')
    templst = []
    if temp[0] == "Genome":
        fout.write(temp[0])
        fout.write(",")
        for i in range(len(temp)):
            lst2.append(temp[i])
    if temp[0] in UMGS:
        templst.append(temp[0])
        for i in range(1, len(temp)):
            if lst2[i] in metagenomes:
                templst.append(temp[i])
        lst.append(templst)

for i in lst2:
    if i in metagenomes:
        fout.write(i)
        fout.write(",")

fout.write("\n")

for i in lst:
    for j in i:
        fout.write(j)
        fout.write(",")
    fout.write("\n")
